[package]
edition = { workspace = true }
license = { workspace = true }
name    = "nomos-executor"
version = "0.1.0"

[package.metadata.cargo-machete]
# False positives.
ignored = [
  # Required by Overwatch's `#[derive_services]` macro.
  "tracing",
  # Required by `wait_until_services_are_ready` macro.
  "futures",
]

[lints]
workspace = true

[dependencies]
async-trait              = "0.1"
axum                     = { default-features = false, features = ["http1", "http2", "json", "query", "tokio"], version = "0.7.5" }
broadcast-service        = { workspace = true }
clap                     = { default-features = false, features = ["derive"], version = "4.5.13" }
color-eyre               = { default-features = false, version = "0.6.0" }
futures                  = { default-features = false, version = "0.3" }
kzgrs-backend            = { workspace = true }
nomos-api                = { workspace = true }
nomos-core               = { workspace = true }
nomos-da-dispersal       = { workspace = true }
nomos-da-network-core    = { workspace = true }
nomos-da-network-service = { workspace = true }
nomos-da-sampling        = { workspace = true }
nomos-da-verifier        = { workspace = true }
nomos-http-api-common    = { workspace = true }
nomos-libp2p             = { workspace = true }
nomos-membership         = { workspace = true }
nomos-mempool            = { workspace = true }
nomos-network            = { workspace = true }
nomos-node               = { workspace = true }
nomos-storage            = { workspace = true }
nomos-time               = { workspace = true }
overwatch                = { workspace = true }
serde                    = { default-features = false, version = "1" }
serde_yaml               = "0.9"
services-utils           = { workspace = true }
subnetworks-assignations = { workspace = true }
tokio                    = { features = ["net"], version = "1" }
tower                    = { default-features = false, features = ["limit"], version = "0.4" }
tower-http               = { default-features = false, features = ["cors", "limit", "timeout", "trace"], version = "0.5" }
tracing                  = { workspace = true }
utoipa                   = { workspace = true }
utoipa-swagger-ui        = { workspace = true }

[features]
default         = ["tracing"]
instrumentation = ["nomos-node/instrumentation"]
profiling       = ["nomos-http-api-common/profiling", "nomos-node/profiling"]
testing         = []
tracing         = ["nomos-node/tracing"]
