repos:
  - repo: https://github.com/doublify/pre-commit-rust
    rev: v1.0
    hooks:
      - id: fmt
        entry: cargo +nightly-2025-03-29 fmt
      - id: clippy
  - repo: https://github.com/EmbarkStudios/cargo-deny
    rev: 0.18.2
    hooks:
      - id: cargo-deny
        args:
          - check
          - --hide-inclusion-graph
          - -c
          - .cargo-deny.toml
          - --show-stats
          - -D
          - warnings
  - repo: https://github.com/ComPWA/taplo-pre-commit
    rev: v0.9.3
    hooks:
      - id: taplo-format
      - id: taplo-lint

  - repo: local
    hooks:
      - id: dependency-graph
        language: script
        name: Generate dependency graph
        entry: ./hooks/generate-dependency-graph.sh
        stages: [pre-commit]
