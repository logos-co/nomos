[target.'cfg(target_os = "macos")']
# when using osx, we need to link against some golang libraries, it did just work with this missing flags
# from: https://github.com/golang/go/issues/42459
rustflags = [
  "-C",
  "link-args=-framework CoreFoundation -framework Security -framework CoreServices -lresolv",
]

[target.'cfg(all())']
rustflags = [
  # Nursery and allowed nursery warnings (new lints will warn by default)
  "-Wclippy::nursery",

  # Pedantic and allowed pedantic warnings (new lints will warn by default)
  "-Wclippy::pedantic",
  "-Aclippy::similar_names",

  # Restriction and allowed restriction warnings (new lints will warn by default)
  "-Aclippy::blanket_clippy_restriction_lints",
  "-Wclippy::restriction",
  "-Aclippy::absolute_paths",
  "-Aclippy::alloc_instead_of_core",
  "-Aclippy::arbitrary_source_item_ordering",
  "-Aclippy::big_endian_bytes",
  "-Aclippy::decimal_literal_representation",
  "-Aclippy::default_numeric_fallback",
  "-Aclippy::deref_by_slicing",
  "-Aclippy::else_if_without_else",
  "-Aclippy::exhaustive_enums",
  "-Aclippy::exhaustive_structs",
  "-Aclippy::exit",
  "-Aclippy::expect_used",
  "-Aclippy::field_scoped_visibility_modifiers",
  "-Aclippy::float_arithmetic",
  "-Aclippy::get_unwrap",
  "-Aclippy::host_endian_bytes",
  "-Aclippy::implicit_return",
  "-Aclippy::integer_division_remainder_used",
  "-Aclippy::iter_over_hash_type",
  "-Aclippy::let_underscore_must_use",
  "-Aclippy::let_underscore_untyped",
  "-Aclippy::little_endian_bytes",
  "-Aclippy::map_err_ignore",
  "-Aclippy::min_ident_chars",
  "-Aclippy::missing_asserts_for_indexing",
  "-Aclippy::missing_docs_in_private_items",
  "-Aclippy::missing_inline_in_public_items",
  "-Aclippy::missing_trait_methods",
  "-Aclippy::mixed_read_write_in_expression",
  "-Aclippy::mod_module_files",
  "-Aclippy::module_name_repetitions",
  "-Aclippy::modulo_arithmetic",
  "-Aclippy::panic",
  "-Aclippy::panic_in_result_fn",
  "-Aclippy::partial_pub_fields",
  "-Aclippy::print_stderr",
  "-Aclippy::print_stdout",
  "-Aclippy::pub_use",
  "-Aclippy::pub_with_shorthand",
  "-Aclippy::question_mark_used",
  "-Aclippy::self_named_module_files",
  "-Aclippy::semicolon_inside_block",
  "-Aclippy::single_call_fn",
  "-Aclippy::single_char_lifetime_names",
  "-Aclippy::std_instead_of_alloc",
  "-Aclippy::std_instead_of_core",
  "-Aclippy::unseparated_literal_suffix",
  "-Aclippy::use_debug",
  "-Aclippy::wildcard_enum_match_arm",

  # TODO: Address these lints at some point.
  "-Aclippy::arithmetic_side_effects",
  "-Aclippy::as_conversions",
  "-Aclippy::as_pointer_underscore",
  "-Aclippy::as_underscore",
  "-Aclippy::assertions_on_result_states",
  "-Aclippy::cast_possible_truncation",
  "-Aclippy::cast_possible_wrap",
  "-Aclippy::cast_precision_loss",
  "-Aclippy::cast_sign_loss",
  "-Aclippy::cfg_not_test",
  "-Aclippy::clone_on_ref_ptr",
  "-Aclippy::create_dir",
  "-Aclippy::dbg_macro",
  "-Aclippy::default_union_representation",
  "-Aclippy::disallowed_script_idents",
  "-Aclippy::doc_include_without_cfg",
  "-Aclippy::empty_drop",
  "-Aclippy::empty_enum_variants_with_brackets",
  "-Aclippy::empty_structs_with_brackets",
  "-Aclippy::error_impl_error",
  "-Aclippy::filetype_is_file",
  "-Aclippy::float_cmp_const",
  "-Aclippy::fn_to_numeric_cast_any",
  "-Aclippy::if_then_some_else_none",
  "-Aclippy::impl_trait_in_params",
  "-Aclippy::indexing_slicing",
  "-Aclippy::infinite_loop",
  "-Aclippy::inline_asm_x86_att_syntax",
  "-Aclippy::inline_asm_x86_intel_syntax",
  "-Aclippy::integer_division",
  "-Aclippy::large_include_file",
  "-Aclippy::large_stack_frames",
  "-Aclippy::lossy_float_literal",
  "-Aclippy::map_with_unused_argument_over_ranges",
  "-Aclippy::mem_forget",
  "-Aclippy::missing_assert_message",
  "-Aclippy::missing_errors_doc",
  "-Aclippy::missing_panics_doc",
  "-Aclippy::multiple_inherent_impl",
  "-Aclippy::multiple_unsafe_ops_per_block",
  "-Aclippy::mutex_atomic",
  "-Aclippy::mutex_integer",
  "-Aclippy::needless_raw_strings",
  "-Aclippy::non_ascii_literal",
  "-Aclippy::non_zero_suggestions",
  "-Aclippy::pathbuf_init_then_push",
  "-Aclippy::pattern_type_mismatch",
  "-Aclippy::pub_without_shorthand",
  "-Aclippy::rc_buffer",
  "-Aclippy::rc_mutex",
  "-Aclippy::redundant_type_annotations",
  "-Aclippy::ref_patterns",
  "-Aclippy::renamed_function_params",
  "-Aclippy::rest_pat_in_fully_bound_structs",
  "-Aclippy::same_name_method",
  "-Aclippy::semicolon_outside_block",
  "-Aclippy::separated_literal_suffix",
  "-Aclippy::shadow_reuse",
  "-Aclippy::shadow_same",
  "-Aclippy::shadow_unrelated",
  "-Aclippy::str_to_string",
  "-Aclippy::string_add",
  "-Aclippy::string_lit_chars_any",
  "-Aclippy::string_slice",
  "-Aclippy::string_to_string",
  "-Aclippy::suspicious_xor_used_as_pow",
  "-Aclippy::tests_outside_test_module",
  "-Aclippy::todo",
  "-Aclippy::try_err",
  "-Aclippy::undocumented_unsafe_blocks",
  "-Aclippy::unimplemented",
  "-Aclippy::unnecessary_safety_comment",
  "-Aclippy::unnecessary_safety_doc",
  "-Aclippy::unnecessary_self_imports",
  "-Aclippy::unneeded_field_pattern",
  "-Aclippy::unreachable",
  "-Aclippy::unused_result_ok",
  "-Aclippy::unused_trait_names",
  "-Aclippy::unwrap_in_result",
  "-Aclippy::unwrap_used",
  "-Aclippy::verbose_file_reads",
]